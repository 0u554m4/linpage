
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ensemble Lin - Livraison en Algérie</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      margin: 5px;
      padding: 5px;
      font-family: 'Poppins', sans-serif;
      background-color: #f9f9f9;
      color: #333;
      line-height: 1.6;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    .product-title {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: #2d3748;
    }
    
    .product-subtitle {
      font-size: 1.2rem;
      font-weight: 400;
      color: #718096;
      margin-bottom: 1.5rem;
    }
    
    .price {
      font-size: 2rem;
      font-weight: 700;
      color: #2d3748;
    }
    
    .original-price {
      text-decoration: line-through;
      color: #a0aec0;
      font-size: 1.5rem;
    }
    
    .discount {
      background-color: #f56565;
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-weight: 600;
      font-size: 0.9rem;
    }
    
    .feature {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }
    
    .feature i {
      color: #4299e1;
      margin-right: 10px;
    }
    
/* .carousel {
  position: relative;
  overflow: hidden;
  border-radius: 50px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  width: 400px;      
  height: 500px;     
  max-width: 100%;   
}

.carousel-inner {
  position: absolute;
  top: 0;
  left: 0;
  display: flex;
  
  transition: transform 0.5s ease;
  will-change: transform;
}

.carousel-item {
  flex: 0 0 100%; 
  height: 100%;
  overflow: hidden;
}

.carousel-item img {
  width: 100%;
  height: 100%;
  object-fit: contain; 
  object-position: center;
  display: block;
} */


.carousel {
  position: relative;
  overflow: hidden;
  border-radius: 20px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  width: 100%;
  max-width: 500px; /* optional limit */
  aspect-ratio: 4 / 5; /* keeps shape proportional */
  margin: auto;
}

.carousel-inner {
  display: flex;
  transition: transform 0.5s ease;
  will-change: transform;
}

.carousel-item {
  flex: 0 0 100%;
}

.carousel-item img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* or "contain" if you want no cropping */
  display: block;
}




/* Navigation and indicators stay the same */
.carousel-nav {
  position: absolute;
  bottom: 20px;
  left: 0;
  right: 0;
  display: flex;
  justify-content: center;
  gap: 10px;
  z-index: 10;
}

.carousel-indicator {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.5);
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.carousel-indicator.active {
  background-color: white;
  transform: scale(1.2);
}

.carousel-prev,
.carousel-next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background-color: rgba(255, 255, 255, 0.8);
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 10;
}

.carousel-prev {
  left: 10px;
}

.carousel-next {
  right: 10px;
}

.carousel-prev:hover,
.carousel-next:hover {
  background-color: white;
}

    
    /* Form styles */
    .form-container {
      background-color: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.05);
    }
    
    .form-title {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 20px;
      color: #2d3748;
      text-align: center;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
      color: #4a5568;
    }
    
    .form-input, .form-select {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      font-size: 1rem;
      transition: all 0.3s ease;
    }
    
    .form-input:focus, .form-select:focus {
      outline: none;
      border-color: #4299e1;
      box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.2);
    }
    
    /* Color selection */
    .color-options {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }
    
    .color-option {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      cursor: pointer;
      transition: transform 0.2s ease;
      position: relative;
    }
    
    .color-option.selected {
      transform: scale(1.2);
      box-shadow: 0 0 0 2px white, 0 0 0 4px #4299e1;
    }
    
    /* Size selection */
    .size-options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }
    
    .size-option {
      padding: 8px 16px;
      border: 1px solid #e2e8f0;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s ease;
      text-align: center;
    }
    
    .size-option.selected {
      background-color: #4299e1;
      color: white;
      border-color: #4299e1;
    }
    
    /* Button styles */
    .btn-primary {
      background-color: #4299e1;
      color: white;
      padding: 16px 24px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 1.1rem;
      transition: all 0.3s ease;
      display: block;
      width: 100%;
      text-align: center;
      cursor: pointer;
      border: none;
    }
    
    .btn-primary:hover {
      background-color: #3182ce;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(66, 153, 225, 0.3);
    }
    
    /* Badge styles */
    .badge {
      position: absolute;
      top: 10px;
      right: -10px;
      background-color: red;
      color: white;
      padding: 8px 16px;
      border-radius: 30px;
      font-weight: 600;
      font-size: 0.9rem;
      z-index: 10;
    }
    
    /* Responsive adjustments */
@media (min-width: 769px) {
  .carousel-item img {
    object-fit: contain; /* show full image without cropping on desktop */
    background-color: #f9f9f9; /* fill space around image */
  }
}

    @media (max-width: 768px) {
      .carousel {
        padding-bottom: 75%; /* Adjust aspect ratio for mobile */
      }
      
      .product-title {
        font-size: 1.8rem;
      }
      
      .price {
        font-size: 1.5rem;
      }
      
      .original-price {
        font-size: 1.2rem;
      }
    }
    
    @media (max-width: 480px) {
      .carousel {
        padding-bottom: 100%; /* Make it square on very small screens */
      }
      
      .carousel-prev, .carousel-next {
        width: 30px;
        height: 30px;
      }
    }
    
    /* Count-down timer */
    .countdown {
      display: flex;
      gap: 10px;
      margin: 20px 0;
      justify-content: center;
    }
    
    .countdown-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: #2d3748;
      color: white;
      padding: 10px;
      border-radius: 8px;
      min-width: 60px;
    }
    
    .countdown-number {
      font-size: 1.5rem;
      font-weight: 700;
    }
    
    .countdown-label {
      font-size: 0.8rem;
      text-transform: uppercase;
    }
    
    /* Trust badges */
    .trust-badges {
      display: flex;
      justify-content: center;
      margin-top: 30px;
      flex-wrap: wrap;
      gap: 3px;
    }
    
    .trust-badge {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      width: 23%;
    }
    
    .trust-badge i {
      font-size: 1.8rem;
      color: #4299e1;
      margin-bottom: 10px;
    }
    
    .trust-badge-text {
      font-size: 0.9rem;
      font-weight: 600;
    }
    
    @media (max-width: 768px) {
      .trust-badge {
        width: 48%;
        margin-bottom: 15px;
      }
    }

    /* Success message */
    .success-message {
      background-color: #48bb78;
      color: white;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      text-align: center;
      display: none;
    }

    /* Error message */
    .error-message {
      background-color: #f56565;
      color: white;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      text-align: center;
      display: none;
    }
  </style>
</head>
<body>
  <div class="container mx-auto px-4 py-8">
<!-- <?php
// الاتصال بقاعدة البيانات
$host = 'localhost';
$dbname = 'lin_orders';
$username = 'root';
$password = '1994';


// إعداد الاتصال بقاعدة البيانات
try {
  $pdo = new PDO("mysql:host=$host;dbname=$dbname;charset=utf8", $username, $password);
  $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
} catch (PDOException $e) {
  die('<div class="error-message">فشل الاتصال بقاعدة البيانات: ' . $e->getMessage() . '</div>');
}

// التعامل مع الطلب
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
  // قراءة البيانات
  $name     = isset($_POST['name']) ? htmlspecialchars($_POST['name']) : '';
  $wilaya   = isset($_POST['wilaya']) ? htmlspecialchars($_POST['wilaya']) : '';
  $address  = isset($_POST['address']) ? htmlspecialchars($_POST['address']) : '';
  $phone    = isset($_POST['phone']) ? htmlspecialchars($_POST['phone']) : '';
  $color    = isset($_POST['color']) ? htmlspecialchars($_POST['color']) : '';
  $size     = isset($_POST['size']) ? htmlspecialchars($_POST['size']) : '';
  $quantity = isset($_POST['quantity']) ? intval($_POST['quantity']) : 1;

  $unit_price = 5900;
  $price = ($unit_price * $quantity) ;



  // التحقق من صحة البيانات
  if (empty($name) || empty($wilaya) || empty($address) || empty($phone) || empty($color) || empty($size) || $quantity < 1) {
    echo '<div class="error-message">الرجاء ملء جميع الحقول المطلوبة.</div>';
  } elseif (!preg_match('/^0[5-7][0-9]{8}$/', $phone)) {
    echo '<div class="error-message">رقم الهاتف غير صحيح. الرجاء إدخال رقم هاتف جزائري صحيح.</div>';
  } else {
    try {
      // إدخال البيانات في قاعدة البيانات
      $stmt = $pdo->prepare("INSERT INTO orders (name, wilaya, address, phone, color, size, quantity, price)
                             VALUES (:name, :wilaya, :address, :phone, :color, :size, :quantity, :price)");

      $stmt->execute([
        ':name'     => $name,
        ':wilaya'   => $wilaya,
        ':address'  => $address,
        ':phone'    => $phone,
        ':color'    => $color,
        ':size'     => $size,
        ':quantity' => $quantity,
        ':price'    => $price,
      ]);

      echo '<div class="success-message">شكراً لطلبك! تم حفظ الطلب بنجاح.</div>';
    } catch (PDOException $e) {
      echo '<div class="error-message">حدث خطأ أثناء حفظ الطلب: ' . $e->getMessage() . '</div>';
    }
  }
}
?> -->

    <div class="relative">
      <div class="badge">PROMO -21%</div>
      
      <!-- Product Section -->
      <div class="flex flex-col md:flex-row gap-8">
        <!-- Left: Product Images -->
        <div class="w-full md:w-1/2">
          <div class="carousel">
            <div class="carousel-inner" id="carouselInner">
              <div class="carousel-item"><img src="src/white.jpg" alt="Ensemble lin blanc"></div>
              <div class="carousel-item"><img src="src/black.jpg" alt="Ensemble lin noir"></div>             
              <div class="carousel-item"><img src="src/brown.jpg" alt="Ensemble lin brown"></div>
              <div class="carousel-item"><img src="src/grey.jpg" alt="Ensemble lin gris"></div>
            </div>
            <div class="carousel-nav" id="carouselNav"></div>
            <div class="carousel-prev" id="prevBtn"><i class="fas fa-chevron-left"></i></div>
            <div class="carousel-next" id="nextBtn"><i class="fas fa-chevron-right"></i></div>
          </div>
        </div>
        
        <!-- Right: Product Details -->
        <div class="w-full md:w-1/2">
          <h1 class="product-title">طقم كتان رجالي</h1>
          <p class="product-subtitle">قميص و سروال من الكتان لراحة لاناقة و راحة استثنائية</p>
          <div class="flex items-center gap-4 mb-6">
            <span class="price">5,900 DA</span>
            <span class="original-price">7,500 DA</span>
            <span class="discount">-21%</span>
          </div>
          
          <div class="bg-blue-50 p-4 rounded-lg mb-6">
            <div class="text-center mb-2 font-semibold text-blue-800">عرض محدود! هذا العرض ينتهني بعد:</div>
            <div class="countdown" id="countdown">
              <div class="countdown-item">
                <span class="countdown-number" id="days">02</span>
                <span class="countdown-label">ايام</span>
              </div>
              <div class="countdown-item">
                <span class="countdown-number" id="hours">11</span>
                <span class="countdown-label">ساعات</span>
              </div>
              <div class="countdown-item">
                <span class="countdown-number" id="minutes">45</span>
                <span class="countdown-label">دقائق</span>
              </div>
              <div class="countdown-item">
                <span class="countdown-number" id="seconds">22</span>
                <span class="countdown-label">ثواني</span>
              </div>
            </div>
          </div>
          
          <div class="mb-6">
            <h3 class="text-lg font-semibold mb-2">الخصائص:</h3>
            <div class="feature">
              <i class="fas fa-check-circle"></i>
              <span>كتان اصلي طبيعي %100</span>
            </div>
            <div class="feature">
              <i class="fas fa-check-circle"></i>
              <span>مريح و ملائم للصيف</span>
            </div>
            <div class="feature">
              <i class="fas fa-check-circle"></i>
              <span>تصميم عصري و انيق</span>
            </div>
            <div class="feature">
              <i class="fas fa-check-circle"></i>
              <span>سهل العناية و الغسيل</span>
            </div>
            <div class="feature">
              <i class="fas fa-check-circle"></i>
              <span>توصيل كل الولايات</span>
            </div>
          </div>
          
  <!-- Color Selection -->
  <!-- <div class="mb-6">
    <h3 class="text-lg font-semibold mb-2">الالوان:</h3>
    <div class="color-options">
      <div class="color-option selected" data-color="noir" data-slide="0" style="background-color: black;"></div>
      <div class="color-option" data-color="beige" data-slide="1" style="background-color: rgb(218, 218, 160);"></div>
      <div class="color-option" data-color="camel" data-slide="2" style="background-color: #c19a6b;"></div>
      <div class="color-option" data-color="camel" data-slide="2" style="background-color: #c19a6b;"></div>
    </div>
  </div> -->

  <div class="mb-6 mt-4">
      <h3 class="text-lg font-semibold mb-2">الالوان:</h3>
      <div class="color-options flex gap-3">
        <div class="color-option selected" data-slide="0" data-color="white" style="background-color: white; border: 1px solid #ccc;"></div>
        <div class="color-option" data-slide="1" data-color="black" style="background-color: black;"></div>
        <div class="color-option" data-slide="2" data-color="brown" style="background-color: brown;"></div>
        <div class="color-option" data-slide="3" data-color="grey" style="background-color: grey;"></div>
      </div>
    </div>

  <!-- Size Selection -->
  <div class="mb-6">
    <h3 class="text-lg font-semibold mb-2">المقاس:</h3>
    <div class="size-options">
      <div class="size-option selected" data-size="M">M</div>
      <div class="size-option" data-size="L">L</div>
      <div class="size-option" data-size="XL">XL</div>
    </div>
  </div>

  <!-- Quantity Selection -->
  <div class="mb-6">
    <h3 class="text-lg font-semibold mb-2">الكمية:</h3>
    <input
      type="number"
      id="quantityInput"
      min="1"
      value="1"
      class="border rounded px-2 py-1 text-sm"
      style="width: 100px;"
      required
    >
  </div>

        </div>
      </div>
    </div>
    
    <!-- Order Form -->
    <div class="form-container mt-10">
      <h2 class="form-title">اطلب الان</h2>
      <form id="orderForm" method="POST" action="">
        <input type="hidden" id="colorInput" name="color" value="noir">
        <input type="hidden" id="sizeInput" name="size" value="M">
        <input type="hidden" id="quantityHidden" name="quantity" value="1">

        <div class="form-group">
          <label class="form-label" for="name">الاسم:</label>
          <input type="text" id="name" name="name" class="form-input" placeholder="ادخل اسمك هنا" required>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="wilaya">الولاية:</label>
          <select id="wilaya" name="wilaya" class="form-select" required>
            <option value="">-- اختر ولايتك --</option>
            <option value="Adrar">Adrar</option>
            <option value="Chlef">Chlef</option>
            <option value="Laghouat">Laghouat</option>
            <option value="Oum El Bouaghi">Oum El Bouaghi</option>
            <option value="Batna">Batna</option>
            <option value="Béjaïa">Béjaïa</option>
            <option value="Biskra">Biskra</option>
            <option value="Béchar">Béchar</option>
            <option value="Blida">Blida</option>
            <option value="Bouira">Bouira</option>
            <option value="Tamanrasset">Tamanrasset</option>
            <option value="Tébessa">Tébessa</option>
            <option value="Tlemcen">Tlemcen</option>
            <option value="Tiaret">Tiaret</option>
            <option value="Tizi Ouzou">Tizi Ouzou</option>
            <option value="Alger">Alger</option>
            <option value="Djelfa">Djelfa</option>
            <option value="Jijel">Jijel</option>
            <option value="Sétif">Sétif</option>
            <option value="Saïda">Saïda</option>
            <option value="Skikda">Skikda</option>
            <option value="Sidi Bel Abbès">Sidi Bel Abbès</option>
            <option value="Annaba">Annaba</option>
            <option value="Guelma">Guelma</option>
            <option value="Constantine">Constantine</option>
            <option value="Médéa">Médéa</option>
            <option value="Mostaganem">Mostaganem</option>
            <option value="M'Sila">M'Sila</option>
            <option value="Mascara">Mascara</option>
            <option value="Ouargla">Ouargla</option>
            <option value="Oran">Oran</option>
            <option value="El Bayadh">El Bayadh</option>
            <option value="Illizi">Illizi</option>
            <option value="Bordj Bou Arreridj">Bordj Bou Arreridj</option>
            <option value="Boumerdès">Boumerdès</option>
            <option value="El Tarf">El Tarf</option>
            <option value="Tindouf">Tindouf</option>
            <option value="Tissemsilt">Tissemsilt</option>
            <option value="El Oued">El Oued</option>
            <option value="Khenchela">Khenchela</option>
            <option value="Souk Ahras">Souk Ahras</option>
            <option value="Tipaza">Tipaza</option>
            <option value="Mila">Mila</option>
            <option value="Aïn Defla">Aïn Defla</option>
            <option value="Naâma">Naâma</option>
            <option value="Aïn Témouchent">Aïn Témouchent</option>
            <option value="Ghardaïa">Ghardaïa</option>
            <option value="Relizane">Relizane</option>
          </select>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="address">العنوان:</label>
          <input type="text" id="address" name="address" class="form-input" placeholder="عنوان التوصيل" required>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="phone">رقم الهاتف:</label>
          <input type="tel" id="phone" name="phone" class="form-input" placeholder="Ex: 0551234567" pattern="^0[5-7][0-9]{8}$" required>
        </div>
        
        <button type="submit" class="btn-primary">
          <i class="fas fa-shopping-bag mr-2"></i> اطلب الان
        </button>
      </form>
    </div>
    
    <!-- Trust Badges -->
    <div class="trust-badges mt-12">
      <div class="trust-badge">
        <i class="fas fa-truck"></i>
        <span class="trust-badge-text">توصيل سريع</span>
      </div>
      <div class="trust-badge">
        <i class="fas fa-money-bill-wave"></i>
        <span class="trust-badge-text">الدفع عند الاستلام</span>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Show success/error messages if they exist
      const successMessage = document.querySelector('.success-message');
      const errorMessage = document.querySelector('.error-message');
      
      if (successMessage && successMessage.textContent.trim() !== '') {
        successMessage.style.display = 'block';
        // Scroll to the message
        successMessage.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
      
      if (errorMessage && errorMessage.textContent.trim() !== '') {
        errorMessage.style.display = 'block';
        // Scroll to the message
        errorMessage.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }

      // Carousel functionality - Fixed
      const carousel = document.getElementById('carouselInner');
      const slides = carousel.querySelectorAll('.carousel-item');
      const navContainer = document.getElementById('carouselNav');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      let currentSlide = 0;
      
      // Create indicators
      slides.forEach((_, index) => {
        const indicator = document.createElement('div');
        indicator.classList.add('carousel-indicator');
        if (index === 0) indicator.classList.add('active');
        indicator.addEventListener('click', () => goToSlide(index));
        navContainer.appendChild(indicator);
      });
      
      const indicators = navContainer.querySelectorAll('.carousel-indicator');
      
      // Function to go to a specific slide - Fixed
      function goToSlide(n) {
        // Remove any existing transition for immediate opacity reset
        carousel.style.transition = 'none';
        currentSlide = (n + slides.length) % slides.length;
        carousel.style.transform = `translateX(-${currentSlide * 100}%)`;
        
        // Force reflow before re-enabling transitions
        void carousel.offsetWidth;
        carousel.style.transition = 'transform 0.5s ease';
        
        // Update indicators
        indicators.forEach((indicator, index) => {
          if (index === currentSlide) {
            indicator.classList.add('active');
          } else {
            indicator.classList.remove('active');
          }
        });
      }
      
      // Next button
      nextBtn.addEventListener('click', () => {
        goToSlide(currentSlide + 1);
      });
      
      // Previous button
      prevBtn.addEventListener('click', () => {
        goToSlide(currentSlide - 1);
      });
      
      // Auto-slide every 5 seconds
      let slideInterval = setInterval(() => {
        goToSlide(currentSlide + 1);
      }, 5000);
      
      // Pause auto-slide on hover
      carousel.addEventListener('mouseenter', () => {
        clearInterval(slideInterval);
      });
      
      // Resume auto-slide on mouse leave
      carousel.addEventListener('mouseleave', () => {
        slideInterval = setInterval(() => {
          goToSlide(currentSlide + 1);
        }, 5000);
      });
      
      // Size selection
      const sizeOptions = document.querySelectorAll('.size-option');
      const sizeInput = document.getElementById('sizeInput');
      
      sizeOptions.forEach(option => {
        option.addEventListener('click', () => {
          sizeOptions.forEach(opt => opt.classList.remove('selected'));
          option.classList.add('selected');
          sizeInput.value = option.getAttribute('data-size');
        });
      });
      
      // Color selection with carousel sync
      const colorOptions = document.querySelectorAll('.color-option');
      const colorInput = document.getElementById('colorInput');
      
      colorOptions.forEach(option => {
        option.addEventListener('click', () => {
          colorOptions.forEach(opt => opt.classList.remove('selected'));
          option.classList.add('selected');
          colorInput.value = option.getAttribute('data-color');
          
          const slideIndex = parseInt(option.getAttribute('data-slide'));
          if (!isNaN(slideIndex)) {
            goToSlide(slideIndex);
          }
        });
      });

      // Quantity input sync -
            // Quantity input sync - Fixed
      const quantityInput = document.getElementById('quantityInput');
      const quantityHidden = document.getElementById('quantityHidden');

      if (quantityInput && quantityHidden) {
        quantityInput.addEventListener('change', () => {
          // Ensure quantity is at least 1
          if (quantityInput.value < 1) {
            quantityInput.value = 1;
          }
          quantityHidden.value = quantityInput.value;
        });
        
        // Also update on input to handle typing
        quantityInput.addEventListener('input', () => {
          if (quantityInput.value) {
            quantityHidden.value = quantityInput.value;
          }
        });
      }

      // Form submission
      const orderForm = document.getElementById('orderForm');
      if (orderForm) {
        orderForm.addEventListener('submit', function(e) {
          // Additional client-side validation can be added here if needed
          const phone = document.getElementById('phone').value;
          const phoneRegex = /^0[5-7][0-9]{8}$/;
          
          if (!phoneRegex.test(phone)) {
            e.preventDefault();
            alert('رقم الهاتف غير صحيح. الرجاء إدخال رقم هاتف جزائري صحيح');
            return false;
          }
          
          // Ensure quantity is properly set before submission
          if (quantityInput && quantityHidden) {
            quantityHidden.value = quantityInput.value;
          }
          
          // Form will submit normally if validation passes
        });
      }
      
      // Countdown timer - Fixed
      function setupCountdown() {
        const countdownDate = new Date();
        countdownDate.setDate(countdownDate.getDate() + 2);
        countdownDate.setHours(countdownDate.getHours() + 11);
        countdownDate.setMinutes(countdownDate.getMinutes() + 45);
        countdownDate.setSeconds(countdownDate.getSeconds() + 22);
        
        function updateCountdown() {
          const now = new Date().getTime();
          const distance = countdownDate - now;
          
          if (distance < 0) {
            clearInterval(countdownTimer);
            const countdownEl = document.getElementById('countdown');
            if (countdownEl) {
              countdownEl.innerHTML = "<div class='text-red-600 font-bold'>العرض انتهى!</div>";
            }
            return;
          }
          
          // Calculate time units
          const days = Math.floor(distance / (1000 * 60 * 60 * 24));
          const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = Math.floor((distance % (1000 * 60)) / 1000);
          
          // Update DOM elements if they exist
          const daysEl = document.getElementById('days');
          const hoursEl = document.getElementById('hours');
          const minutesEl = document.getElementById('minutes');
          const secondsEl = document.getElementById('seconds');
          
          if (daysEl) daysEl.innerText = days.toString().padStart(2, '0');
          if (hoursEl) hoursEl.innerText = hours.toString().padStart(2, '0');
          if (minutesEl) minutesEl.innerText = minutes.toString().padStart(2, '0');
          if (secondsEl) secondsEl.innerText = seconds.toString().padStart(2, '0');
        }
        
        // Initial update
        updateCountdown();
        
        // Set interval for updates
        const countdownTimer = setInterval(updateCountdown, 1000);
        
        // Return the timer so it can be cleared if needed
        return countdownTimer;
      }
      
      // Start the countdown
      const countdownTimer = setupCountdown();
      
      // Handle color selection and image carousel synchronization
      function setupColorImageSync() {
        const colorOptions = document.querySelectorAll('.color-option');
        
        colorOptions.forEach(option => {
          option.addEventListener('click', () => {
            // Update color selection UI
            colorOptions.forEach(opt => opt.classList.remove('selected'));
            option.classList.add('selected');
            
            // Update hidden input
            const colorInput = document.getElementById('colorInput');
            if (colorInput) {
              colorInput.value = option.getAttribute('data-color');
            }
            
            // Sync with carousel
            const slideIndex = parseInt(option.getAttribute('data-slide'));
            if (!isNaN(slideIndex)) {
              goToSlide(slideIndex);
            }
          });
        });
      }
      
      // Initialize color-image synchronization
      setupColorImageSync();
      
      // Initialize carousel to first slide explicitly
      goToSlide(0);
    });
  </script>
</body>
</html>
